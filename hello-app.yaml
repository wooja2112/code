apiVersion: v1
kind: Namespace
metadata:
  name: dev
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: hello-app
  namespace: dev
spec:
  selector:
    matchLabels:
      app: hello
  replicas: 2
  template:
    metadata:
      labels:
        app: hello
    spec:
      containers:
        - name: hello
          image: "gcr.io/google-samples/hello-app:2.0"

---
apiVersion: v1
kind: Service
metadata:
  name: hello-service
  namespace: dev
  labels:
    app: hello
spec:
  type: ClusterIP
  selector:
    app: hello
  ports:
    - port: 80
      targetPort: 8080
      protocol: TCP
---
apiVersion: v1
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR0akNDQXA2Z0F3SUJBZ0lVUTdtUS9Vd3pPZ0k1RVFrNDJsTlE3YzVXK3NNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1NqRUxNQWtHQTFVRUJoTUNWVk14R0RBV0JnTlZCQW9NRDE5RVpYWmxiRzl3YldWdWRDQkRRVEVoTUI4RwpBMVVFQXd3WVJHVjJaV3h2Y0cxbGJuUWdZMlZ5ZEdsbWFXTmhkR1Z6TUI0WERUSXpNREV3T1RJek1Ua3lPRm9YCkRUSTBNREV3T1RJek1Ua3lPRm93UGpFTE1Ba0dBMVVFQmhNQ1ZWTXhHakFZQmdOVkJBb01FVXh2WTJGc0lFUmwKZG1Wc2IzQnRaVzUwTVJNd0VRWURWUVFEREFwb1lYVjJaWEl1YkdGaU1JSUJJakFOQmdrcWhraUc5dzBCQVFFRgpBQU9DQVE4QU1JSUJDZ0tDQVFFQTZWQXltSnZtZ1F2ZmJRRzNJWXpUdnZRREpqcDI3aDZxZnA0NU50R3REVnJZCm5DYXdxTHUyVDlPRXE1OVFoSlhwYUJBSmZQckNjRjF0ZW1JaVJrWGhqdjJrUUZnTXoxTnU3dWo0V240QVVxRysKUDBFcmxLYk5JL0t4Y3ozaldMMXdvZ3hmRUZYd1FrSFhGcnBJaVVJTVdWbXBVd0lQZTdkcjgxbUMzbHJ3WTNvQgo0cU0zN2JBN0xVRFl6cFNEYzlOS29icitxZTZDb2J3OENlNld0b3ZjaTh4ZWRxQXRiUmhxaU81NXRQcWFyczZ1ClgzSWNZdjZ1bDRtSWxFTW4vbm1NYnJFUlVXcTBJZmVROHlvZ3YzSEZWTmNlWWlucTV5RWV0VmI5Ulh1Q0Q4WWgKOGxVVFhDbFlTK0xpN3U4VzU0ZnVONFBKMEJzUUlNSzU4K2tMWWpOZ0J3SURBUUFCbzRHZk1JR2NNQjhHQTFVZApJd1FZTUJhQUZKdFkyajdIZjJyeFVGMG9BVkxuQWNQK0ZMQTJNQWtHQTFVZEV3UUNNQUF3Q3dZRFZSMFBCQVFECkFnVHdNQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01CQmdnckJnRUZCUWNEQWpBakJnTlZIUkVFSERBYWdncG8KWVhWMlpYSXViR0ZpZ2d3cUxtaGhkWFpsY2k1c1lXSXdIUVlEVlIwT0JCWUVGUHhpdkxWbDNIY0laSG5CQ3F0dApXWVVod2cvck1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQWp3TGl2NUdiZ1NBUDZHWmE5TGJ2a3crVmhyR0E3ClBIOWJWY1FiR0E5L2REclJnRExPQ25XQXQvUUtsTHR5Nll1enBSTVo0Y0c0S0hmQnFnbWZjMDFYNWNkN3lSMWwKR1l4bnhxZ2lac0dNWFZEOUUzVVNvcFkxd1NLVWQ0VU5HMnZhbDI2a1ZTZTRIU1Z4cGRNQlkvT05kSjVnOFovMwpiRVZqZC9Oc3BhTTZvK0lYd1pCanRSUC8zVStwcmNmdXVMQVBuditXd0FFcDZBUmgrT3Q4WHFFVWtsaVFYVVI2Ckl0OFJCRnFzTTBJL2lFWUFDS1ZuRjlWc2ZLeWFqZDk0MTJYdTlmMWZmeDM4QmZpM1loaVE4bVdYN1BnVGNtOWYKRllZWnhmL0s5Mm5JWENTSUJOak5zTDFmRDhpTVJXaUNCbVJ1NTdza3VvRksveHZDSUFqWkFURDIKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRRHBVREtZbSthQkM5OXQKQWJjaGpOTys5QU1tT25idUhxcCtuamsyMGEwTld0aWNKckNvdTdaUDA0U3JuMUNFbGVsb0VBbDgrc0p3WFcxNgpZaUpHUmVHTy9hUkFXQXpQVTI3dTZQaGFmZ0JTb2I0L1FTdVVwczBqOHJGelBlTll2WENpREY4UVZmQkNRZGNXCnVraUpRZ3haV2FsVEFnOTd0MnZ6V1lMZVd2QmplZ0hpb3pmdHNEc3RRTmpPbElOejAwcWh1djZwN29LaHZEd0oKN3BhMmk5eUx6RjUyb0MxdEdHcUk3bm0wK3BxdXpxNWZjaHhpL3E2WGlZaVVReWYrZVl4dXNSRlJhclFoOTVEegpLaUMvY2NWVTF4NWlLZXJuSVI2MVZ2MUZlNElQeGlIeVZSTmNLVmhMNHVMdTd4Ym5oKzQzZzhuUUd4QWd3cm56CjZRdGlNMkFIQWdNQkFBRUNnZ0VBRGdacThRSmVKdC9BUEpBVENQRGVxQm52Qk81NnlJdEJ4dVVvQkIyWkFGQWUKSDdUbFRCOVpaRUpDYUowWkZtV3VORG9GeE1xL3d4VnQ0VlhpYy9mSVBJMTFKMnFqbDByMTNqSzd5ekdZcGNWZwo1NHU1WFBFTGt4TFU4bHdkbzd4aXhJZk4ybGE4K1d0Mk12UDFYNEZNZy9EbXFncGFFWVZwa1F2QnBjbktlbDBQCkNGdm5ubmRUZWx4bVE3SjJwVThZaDVmTmtqTkhReHYweHRyTGExTmJMd2tIS1QzKzZLNTJSL0RvRTF5K0U2NDcKNlIzKzVkL0dZRnJoMU8zMzE5Qi9iK0FTemJHM3NOdy9lMzAvWGVPTWZnSnBnNGxyNXVKWW9YNU03TEJzSHg4bApRTy8vWFY0YkFCQkJIb3R4cm9VVzJRakFzUVVuQUVkUmdEZTJlZ3RGOFFLQmdRRDA5Ni9EekhucytrWmpCNDhmCnJUNTUxWnozR2ZHM0pjZ2haa3ZoSnhvaXJHUGYvcThZREcrVlErMmNXOWcwQ2l3Q1NLaFY3YlhxQmhBSm9PSy8KcStiY2lGb2VUYS9XemNTZ3FtdDZjdzlaVkx3THhINE1XcDlxT292dlZpUlR1aTFQRUVkNVZNQUdhTWhVY0kwQgpiYU1iRnhMelJycHV2Y2xWSlZXZUdibGY0d0tCZ1FEejBpVXR2blVPRWV5RGNYVmVmTzkyUHlvWHBzNUFVandCCnRqSXlLUlpob1BYaFlOejdRMXJZVmlJYm9udm5UZTRuckdneXphUVcwM2M0OEcwcjdoMnFaQitENHNON1oxVmIKTy95cC9sSk95WjVrU2FEOUxKUUpCSVRTVW1Oc09lSjJTdG44cU9LYVY5dkNoOXdhbVZpOWhObUhFUDJMc2FINApLWm5Hb3BVd2pRS0JnQWZlUU1ZQU5sWlhQNVdFczZNbjFGN2picFE5UUJkSzNsKzhRbW1yOE5uMlFZcjdTakp5Cmk4NzJqSlkrR1BhcThQanR6b0pjRFVERUN4WFVGaFJqK0JsVFE5bS9Vd3VLTm11V3JiY1VKUVVRaEsyNEZQaGUKbk1venNUVHh4bDd1RnZCNExHT0lSbGF1WE9qaGFKWUlLSG9CUnJtTHB3ZFJqenJ0NVE4YjhtbFRBb0dBTm9hSQpTZktOdXRmSFRKM1M0WTZPL3FLaGh5aUdkMXZzajNWdlJFaHIrT2xHRTJEV0NsckZ0aHVOQlNFUkZHa1pHVVkxCkJ5ZDF5cVQveEh2LzdoTVNEMGpVdzJteXphWU9NSmo1cUFwMzNhYTVCVFJ5REN3cjd0aFQyN1VSQnVMckFnazcKTm9XT0ozWCtiMEp5dG9BVW1FMWRXQmMwbkVqZEwrSWR3WTRhVHdFQ2dZRUExcFZiV1pLYVoxbytydE1pN1VwbgpISzBBSkJhbkcwdUVIUDNjVWlkano1bWRJTVBtdlBnWis5MVBmNDJxOTVHUDVCaXpHQVovN1JNLzdGS0ZvbGE5CndNMTZQME5zY0xkaDFoNHZGd1RqMDJaVXpKeHZmQ0lKa2dQT0IyRUU5dUJxS2d6MVcxc2hDQlkwZDZheUhhWUkKNzFnbWdnWGhjMit0ZjdsRTIyNHRjVTQ9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
kind: Secret
metadata:
  name: hello-app-tls
  namespace: dev
type: kubernetes.io/tls
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: hello-app-ingress
  namespace: dev
spec:
  rules:
    - host: "test.hauver.lab"
      http:
        paths:
          - backend:
              service:
                name: hello-service
                port:
                  number: 80
            pathType: ImplementationSpecific
  tls:
    - hosts:
        - test.hauver.lab
      secretName: hello-app-tls
